## Continuous Build, Integration, Testing

### Day 14

#### ğŸ“Œ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€

âœ”ï¸ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ êµ¬ì„±: image manifest, file system, image configuration

âœ”ï¸ ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•  ë•Œ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ì— ë³´ì•ˆì  ë¬¸ì œê°€ ìˆëŠ” ê²½ìš°ê°€ ë§ìŒ => ë³´ì•ˆì  ë¬¸ì œë¥¼ ì•¼ê¸°í•˜ëŠ” ì·¨ì•½ì ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ `ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ìŠ¤ìº”`

#### ğŸ“Œ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ìŠ¤ìº”

âœ”ï¸ ì´ë¯¸ì§€ ìŠ¤ìºë‹: ì»¨í…Œì´ë„ˆ ë‚´ë¶€ë¥¼ ì‚´í´ë³´ê³ , ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ ëª©ë¡(Linux,Java,Go,Javascript)ì„ ê°€ì ¸ì˜¤ê³ , ì•Œë ¤ì§„ ì·¨ì•½ì ì´ ìˆëŠ” ë°ì´í„°ë² ì´ìŠ¤ì™€ íŒ¨í‚¤ì§€ ëª©ë¡ì„ ìƒí˜¸ ì°¸ì¡° => ê° íŒ¨í‚¤ì§€ë¥¼ ì²˜ë¦¬í•˜ê³  ê²°êµ­ ì£¼ì–´ì§„ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ì— ëŒ€í•œ ì·¨ì•½ì  ëª©ë¡ ìƒì„±

âœ”ï¸ ê°€ì¥ ì¸ê¸°ìˆëŠ” ì´ë¯¸ì§€ ìŠ¤ìºë„ˆëŠ” `Trivy`ì™€ `Grype`

âœ”ï¸ grype ì‚¬ìš©ì˜ˆì œ-1

- grype ì„¤ì¹˜ í›„ `grype ubuntu:latest` ì‹¤í–‰

- ubuntu:latest ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ìŠ¤ìº” ê²°ê³¼ ì·¨ì•½ì  í™•ì¸ ê°€ëŠ¥

- ì‹¤í–‰ ê²°ê³¼ì˜ SeverityëŠ” ì‹¬ê°ë„, Fixed-inì€ í•´ë‹¹ íŒ¨í‚¤ì§€ì˜ ìµœì‹  ë²„ì „ì—ì„œ ì·¨ì•½ì ì´ ìˆ˜ì •ë˜ì—ˆëŠ”ì§€ ìœ ë¬´ í™•ì¸ ê°€ëŠ¥

![Alt text](image.png)

âš¡ï¸ ubuntu:latestëŠ” Ubuntu ê³µì‹ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ì˜ ìµœì‹  ë²„ì „ìœ¼ë¡œ ì •ê¸°ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ê¸° ë•Œë¬¸ì— ë³´í†µ ì·¨ì•½ì  ì¡´ì¬ X => ì˜¤ë˜ëœ ì´ë¯¸ì§€, ì„ì˜ì˜ ì´ë¯¸ì§€, ëŒ€ê¸°ì—…ì—ì„œ ì§€ì›í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ ë˜ëŠ” ìì‹ ì´ ê´€ë¦¬í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ì˜ ê²½ìš°ëŠ” ê·¸ë ‡ì§€ ì•Šì„ ìˆ˜ ìˆìŒ

âœ”ï¸ grype ì‚¬ìš©ì˜ˆì œ-2

- `grype springio/petclinic:latest` ì‹¤í–‰

- Severityì—ì„œ `Critical`ì´ ë§ì´ ì¡´ì¬ & ê·¸ ì¤‘ ë§ì€ ì·¨ì•½ì ì´ í•´ë‹¹ ì¢…ì†ì„±ì˜ ìµœì‹  ë²„ì „ìœ¼ë¡œ ìˆ˜ì •ë¨ì´ ë³´ì—¬ì§

![Alt text](image-1.png)

â­ï¸ ì´ë¯¸ì§€ ìŠ¤ìºë‹ì„ í†µí•´ ê°ì§€í•˜ëŠ” ì·¨ì•½ì ì€ ë³´ì•ˆ ì—°êµ¬ì›ì´ ë°œê²¬í•˜ì—¬ CVEê°€ í• ë‹¹ëœ ì·¨ì•½ì ìœ¼ë¡œ, ìŠ¤ìºë‹ì„ í†µí•´ ë‚˜íƒ€ë‚˜ì§€ ì•Šì€ ê²½ìš°ì—ë„ ì·¨ì•½ì ì´ ì¡´ì¬í•  ìˆ˜ ìˆìŒ

â­ï¸ ì·¨ì•½ì ì„ ì™„í™”í•˜ëŠ” ë°©ë²•ì€ downgradeí•˜ëŠ” ê²ƒë§Œí¼ ì‰¬ìš¸ ìˆ˜ ìˆì§€ë§Œ, ë²„ì „ ì¶©ëŒë¡œ ì¸í•´ ì½”ë“œë¥¼ ë³€ê²½í•´ì•¼ í•  ìˆ˜ë„ ìˆê¸°ì— ê¹Œë‹¤ë¡œìš¸ ìˆ˜ë„ ìˆìŒ

#### ğŸ“Œ CVE

âœ”ï¸ ìŠ¤ìºë„ˆ ê²°ê³¼ `CVE-`ë¡œ ì‹œì‘í•˜ëŠ” ë‚´ìš© ì¡´ì¬

âœ”ï¸ CVEëŠ” ì·¨ì•½ì ì„ ì¶”ì í•˜ê³  ì‰½ê²Œ ê²€ìƒ‰í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ì§„ ê³ ìœ  í‘œê¸°

âœ”ï¸ `CVE-í•´ë‹¹ë…„ë„-ì·¨ì•½ì ë²ˆí˜¸`ì˜ í˜•ì‹ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ì‹ë³„ì ë¶€ì—¬ë˜ë©° ì˜†ì— ì¡´ì¬í•˜ëŠ” SeverityëŠ” 0-10 ì‚¬ì´ì˜ ìˆ«ì ë˜ëŠ” NONE,LOW,MEDIUM,HIGH,CRITICAL ì¤‘ í•˜ë‚˜ì˜ ë“±ê¸‰ìœ¼ë¡œ í‘œì‹œë¨

### Day 15

#### ğŸ“Œ SBOM (Software Bill Of Material)

âœ”ï¸ `SBOM`ì€ ì‘ìš© í”„ë¡œê·¸ë¨ì´ë‚˜ ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ëŠ” ëª¨ë“  êµ¬ì„± ìš”ì†Œ ëª©ë¡ì„ ë‚˜íƒ€ë‚´ë©°, ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ êµ¬ì¶•í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì˜ ë²„ì „, ì¶œì²˜ ë“±ì— ëŒ€í•œ ì •ë³´ ì œê³µ

âœ”ï¸ SBOMì˜ ëª©ì ì€ ì‚¬ìš©ìì—ê²Œ ì†Œí”„íŠ¸ì›¨ì–´ ì œí’ˆì— í¬í•¨ëœ ë‚´ìš©ì„ ì œê³µí•˜ê³  ë³´ì•ˆ ë˜ëŠ” ë²•ì  ì´ìœ ë¡œ í•´ë¡œìš¸ ìˆ˜ ìˆëŠ” êµ¬ì„± ìš”ì†Œë¥¼ í”¼í•  ìˆ˜ ìˆë„ë¡ í•¨

âœ”ï¸ Container Imageì˜ SBOMì—ëŠ” ì•„ë˜ ë‚´ìš©ì´ í¬í•¨

- ì»¨í…Œì´ë„ˆì— ì„¤ì¹˜ëœ Linux íŒ¨í‚¤ì§€ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬

- ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ë˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ìš©ìœ¼ë¡œ ì„¤ì¹˜ëœ ì–¸ì–´ íŒ¨í‚¤ì§€ (ex. Python íŒ¨í‚¤ì§€, Go íŒ¨í‚¤ì§€)

âœ”ï¸ `Syft`ë€ Container Imageì—ì„œ SBOMì„ ì¶”ì¶œí•˜ëŠ” ë„êµ¬ ì¤‘ í•˜ë‚˜

- ì„¤ì¹˜
  `curl -sSfL https://raw.githubusercontent.com/anchore/syft/main/install.sh | sh -s -- -b /usr/local/bin`

- syftë¥¼ ì‚¬ìš©í•´ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ì— ëŒ€í•œ SBOM ìƒì„±
  `syft ubunt`
  ![Alt text](image-2.png)

â­ï¸ ìœ„ SBOMì—ëŠ” ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë‚´ë¶€ì— ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬, í•´ë‹¹ ìœ í˜•ê³¼ ë²„ì „ë„ ì¡´ì¬ => SBOMì„ `ì·¨ì•½ì„± ë°ì´í„°ë² ì´ìŠ¤`ì™€ ìƒí˜¸ ì°¸ì¡°í•˜ì—¬ `ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ ì·¨ì•½ì„± í™•ì¸ ê°€ëŠ¥`

#### ğŸ“Œ ì·¨ì•½ì  ë°ì´í„°ë² ì´ìŠ¤

âœ”ï¸ ì·¨ì•½ì„± ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì†Œí”„íŠ¸ì›¨ì–´, í•˜ë“œì›¨ì–´ ë° ê¸°íƒ€ ì‹œìŠ¤í…œì˜ ì·¨ì•½ì„±ì— ëŒ€í•œ ì •ë³´ ëª¨ìŒ

âœ”ï¸ ì¼ë°˜ì ìœ¼ë¡œ ì·¨ì•½ì„±ì˜ íŠ¹ì„±ì— ëŒ€í•œ ì„¸ë¶€ ì •ë³´ í¬í•¨. ex. ì·¨ì•½ì„± ìœ í˜•, ì·¨ì•½ì„± ì‹¬ê°ë„, ì·¨ì•½ì„±ì˜ ì ì¬ì ì¸ ì˜í–¥

âœ”ï¸ ì·¨ì•½ì„±ì„ ì•…ìš©í•˜ëŠ” ë°©ë²•, í•´ë‹¹ ì·¨ì•½ì„±ì— ëŒ€í•´ ì‚¬ìš© ê°€ëŠ¥í•œ íŒ¨ì¹˜ ë˜ëŠ” ìˆ˜ì • ì‚¬í•­ì— ëŒ€í•œ ì •ë³´ë„ í¬í•¨ë  ìˆ˜ ìˆìŒ

âš¡ï¸ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆëŠ” API ë˜ëŠ” ì›ì‹œ ë°ì´í„°ë¥¼ ì œê³µí•˜ê³  `SBOM` íŒ¨í‚¤ì§€ì™€ `ì·¨ì•½ì„± ì •ë³´`ë¥¼ ìƒí˜¸ ì°¸ì¡°í•´ íŒ¨í‚¤ì§€ì— ì£¼ì˜í•´ì•¼í•  ì·¨ì•½ì ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸

#### ğŸ“Œ CVSS (Common Vulnerability Scoring System)

âœ”ï¸ CVSSëŠ” ê³µí†µ ì·¨ì•½ì„± ì ìˆ˜ ì‹œìŠ¤í…œìœ¼ë¡œ, ì·¨ì•½ì ì˜ ì£¼ìš” íŠ¹ì„±ì„ í¬ì°©í•˜ê³  ì‹¬ê°ë„ë¥¼ ë°˜ì˜í•˜ëŠ” ìˆ˜ì¹˜ ì ìˆ˜ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²• ì œê³µ

âœ”ï¸ ì–¼ë§ˆë‚˜ ì‰½ê²Œ ì•…ìš©í•  ìˆ˜ ìˆëŠ”ì§€, ì–¼ë§ˆë‚˜ ë§ì€ í”¼í•´ë¥¼ ì…í ìˆ˜ ìˆëŠ”ì§€ì— ë”°ë¼ ì·¨ì•½ì ì˜ ìˆœìœ„ë¥¼ ê°ê´€ì ìœ¼ë¡œ í‰ê°€

âœ”ï¸ CVSS ê¸°ì¤€ : ì•„ë˜ 8ê°œì˜ ì¡°í•©ì— ë”°ë¼ 0-10 ì‚¬ì´ì˜ CVSS ì ìˆ˜ê°€ ê²°ì •ë¨

- `Attack Vector (ê³µê²©ë²¡í„°)` : ì·¨ì•½ì  ì•…ìš©ì´ ê°€ëŠ¥í•œ ìƒí™© ë°˜ì˜ => ë„¤íŠ¸ì›Œí¬(N), ì¸ì ‘(A), ë¡œì»¬(L), ë¬¼ë¦¬ì (P)

- `Attack Complexity (ê³µê²© ë³µì¡ì„±)` : ì·¨ì•½ì ì„ ì•…ìš©í•˜ê¸° ìœ„í•´ ì¡´ì¬í•´ì•¼ í•˜ëŠ” ê³µê²©ìì˜ í†µì œ ë²”ìœ„ë¥¼ ë²—ì–´ë‚œ ì¡°ê±´ ì„¤ëª… => ë‚®ìŒ(L), ë†’ìŒ(H)

- `Priviledges Required (í•„ìš”í•œ ê¶Œí•œ)` : ì·¨ì•½ì ì„ ì„±ê³µì ìœ¼ë¡œ ì•…ìš©í•˜ê¸° ì „ì— ê³µê²©ìê°€ ë³´ìœ í•´ì•¼ í•˜ëŠ” ê¶Œí•œ ìˆ˜ì¤€ => ì—†ìŒ(N), ë‚®ìŒ(L), ë†’ìŒ(H)

- `User Interaction (ì‚¬ìš©ì ìƒí˜¸ì‘ìš©)` : ê³µê²©ìê°€ ì•„ë‹Œ ì‚¬ìš©ìê°€ ì·¨ì•½í•œ êµ¬ì„± ìš”ì†Œì˜ ì„±ê³µì ì¸ ì†ìƒì— ì°¸ì—¬í•´ì•¼ í•œë‹¤ëŠ” ìš”êµ¬ì‚¬í•­ => ì—†ìŒ(N), í•„ìˆ˜(R)

- `Scope (ë²”ìœ„)` : í•˜ë‚˜ì˜ ì†Œí”„íŠ¸ì›¨ì–´ êµ¬ì„± ìš”ì†Œì— ìˆëŠ” ì·¨ì•½ì ì´ ê·¸ ìˆ˜ë‹¨ì´ë‚˜ ê¶Œí•œì„ ë„˜ì–´ì„œ ë¦¬ì†ŒìŠ¤ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ëŠ¥ë ¥ => ë³€ê²½ë˜ì§€ ì•ŠìŒ(U), ë³€ê²½ë¨(C)

- `Confidentiality (ê¸°ë°€ì„±)` : ì„±ê³µì ìœ¼ë¡œ ì•…ìš©ëœ ì·¨ì•½ì ìœ¼ë¡œ ì¸í•´ ì†Œí”„íŠ¸ì›¨ì–´ êµ¬ì„± ìš”ì†Œê°€ ê´€ë¦¬í•˜ëŠ” ì •ë³´ ë¦¬ì†ŒìŠ¤ì˜ ê¸°ë°€ì„±ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ => ì—†ìŒ(N), ë‚®ìŒ(L), ë†’ìŒ(H)

- `Integrity (ì§„ì‹¤ì„±)` : ì„±ê³µì ìœ¼ë¡œ ì•…ìš©ëœ ì·¨ì•½ì ì´ ë¬´ê²°ì„±ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ => ì—†ìŒ(N), ë‚®ìŒ(L), ë†’ìŒ(H)

- `Availability (ìœ íš¨ì„±)` : ì·¨ì•½ì  ì•…ìš©ì— ì„±ê³µí•˜ì—¬ ì˜í–¥ì„ ë°›ëŠ” êµ¬ì„± ìš”ì†Œì˜ ê°€ìš©ì„±ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ => ì—†ìŒ(N), ë‚®ìŒ(L), ë†’ìŒ(H)

### Day 16

#### ğŸ“Œ Fuzzing

âœ”ï¸ Fuzzing (=Fuzz test)ì€ ìœ íš¨í•˜ì§€ ì•Šê±°ë‚˜ ì˜ˆìƒì¹˜ ëª»í•œ ë°ì´í„° ë˜ëŠ” ë¬´ì‘ìœ„ ë°ì´í„°ë¥¼ ì»´í“¨í„° í”„ë¡œê·¸ë¨ì— ì…ë ¥ìœ¼ë¡œ ì œê³µí•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ í…ŒìŠ¤íŠ¸ ê¸°ìˆ 

âœ”ï¸ Fuzzingì˜ ëª©í‘œëŠ” í”„ë¡œê·¸ë¨ì´ ì¶©ëŒí•˜ê±°ë‚˜ ì˜ë„í•˜ì§€ ì•Šì€ ë™ì‘ì„ ë‚˜íƒ€ë‚´ë„ë¡í•˜ì—¬ `í”„ë¡œê·¸ë¨ì˜ ë³´ì•ˆ ì·¨ì•½ì„±`ê³¼ `ë²„ê·¸ë¥¼ ì‹ë³„`í•˜ëŠ” ê²ƒ

âœ”ï¸ ìˆ˜ë™ìœ¼ë¡œ ìˆ˜í–‰í•˜ê±°ë‚˜ í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬/í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì…ë ¥ì„ ì‘ì„±í•´ ìˆ˜í–‰

âœ”ï¸ Ex

- `string`ì„ ìœ ì¼í•œ ì¸ìˆ˜ë¡œ ë°›ì•„ë“¤ì´ëŠ” Go í•¨ìˆ˜

- ì œê³µëœ ì…ë ¥ì´ ë‹¨ í•˜ë‚˜ì˜ ì¡°ê±´(fuzz)ì—ì„œë§Œ í•¨ìˆ˜ ì¶©ëŒ

```
func DontPanic(s string) {
    if len(s) == 4 {
        if s[0] == 'f' {
            if s[1] == 'u' {
                if s[2] == 'z' {
                    if s[3] == 'z' {
                        panic("error: wrong input")
                    }
                }
            }
        }
    }
}
```

âœ”ï¸ ìœ„ ì½”ë“œì— ê´€í•œ fuzz test ë‹¨ê³„

í¼ì§• ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì‘ì€ ë¬¸ìì—´ë¶€í„° ì‹œì‘í•´ í¬ê¸°ë¥¼ ëŠ˜ë¦¬ëŠ” ë¬¸ìì—´ ì œê³µ

-> `if len(s) == 4`ì— ë”°ë¼ ê¸¸ì´ê°€ 4ì¸ ë¬¸ìì—´ì„ ì œê³µí•˜ë©´ í…ŒìŠ¤íŠ¸ ë²”ìœ„ì˜ ë³€ê²½ ì‚¬í•­ì„ trueë¡œ í™•ì¸í•˜ê³  ì´ ê¸¸ì´ì˜ ì…ë ¥ ê³„ì† ìƒì„±

-> `if s[0] == 'f'`ì— ë”°ë¼ í•´ë‹¹ í…ŒìŠ¤íŠ¸ ë²”ìœ„ì—ì„œ ë˜ ë‹¤ë¥¸ ë³€ê²½ ì‚¬í•­ì„ ë°œê²¬í•´ trueë¡œ ì¸ì‹

-> `if s[1]=='u'`ì™€ `if s[2]=='z'`, `if s[3]=='z'`ì— ëŒ€í•´ì„œë„ ë™ì¼í•œ ì‘ì—… ë°˜ë³µ

-> ì…ë ¥ìœ¼ë¡œ fuzzê°€ ì œê³µë˜ë©´ í•¨ìˆ˜ëŠ” panicì„ ì‹¤í–‰ í›„ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨

-> Fuzzing ì„±ê³µ!

âœ”ï¸ ì½”ë“œ ì¶©ëŒì„ ì¼ìœ¼í‚¨ ì…ë ¥ì„ ì €ì¥í•˜ê³  ë§¤ë²ˆ ì‹¤í–‰í•˜ì—¬ Fuzzingì„ í†µí•´ ë°œê²¬í•œ ì›ë˜ ì˜¤ë¥˜ê°€ ì½”ë“œì— ë‹¤ì‹œ ë„ì…ë˜ì§€ ì•Šë„ë¡ í•˜ëŠ” ê²ƒë„ ì¢‹ìŒ => Fuzzingì˜ í”„ë ˆì„ì›Œí¬ ê¸°ëŠ¥ì¼ ìˆ˜ ìˆìŒ

#### ğŸ“Œ Fuzzingë§Œìœ¼ë¡œ ì¶©ë¶„í•˜ì§€ ì•ŠëŠ” ê²½ìš°

âœ”ï¸ ì½”ë“œì— ì‹¤íŒ¨í•˜ëŠ” ì…ë ¥ì´ ë„ˆë¬´ êµ¬ì²´ì ì´ê³  ë„ì›€ì´ ë  ë§Œí•œ ë‹¨ì„œê°€ ì—†ëŠ” ê²½ìš° Fuzzing ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” í•´ë‹¹ ì…ë ¥ì„ ì¶”ì¸¡í•˜ì§€ ëª»í•¨

ex1. ì…ë ¥ì´ ë„ˆë¬´ êµ¬ì²´ì ì¸ ê²½ìš°

```
func DontPanic(s input) {
    if (len(s) == 4) && s[0] == 'f' && s[1] == 'u' && s[2] == 'z' && s[3] == 'z' {
        panic("error")
    }
}
```

ex2. ë„ì›€ì´ ë  ë§Œí•œ ë‹¨ì„œê°€ ì—†ëŠ” ê²½ìš°

```
func DontPanic(s input) {
    if s == "fuzz" {
        panic("error")
    }
}
```

âš¡ï¸ Fuzzingì€ ì½”ë“œì˜ ì˜ˆì™¸ ì‚¬í•­ê³¼ íŠ¹ìˆ˜ ì‚¬ë¡€ë¥¼ ê°ì§€í•˜ëŠ” ì¢‹ì€ ë°©ë²•ì´ì§€ë§Œ, 100% ì˜¬ë°”ë¥¸ ì½”ë“œë¥¼ ìœ„í•œ ë§ŒëŠ¥ì€ ì•„ë‹˜ì„ ì´í•´í•´ì•¼í•¨

### Day 17

âœ”ï¸ Fuzz test(í¼ì§€ ì…ë ¥ì„ ì‚¬ìš©í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)ëŠ” ë‹¨ìˆœí•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ê·¸ ì´ìƒìœ¼ë¡œ, ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ë¡œ ì „ì†¡ëœ ìš”ì²­ì„ fuzzingí•˜ì—¬ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

âœ”ï¸ ë„êµ¬: `Burp Intruder`, `SmartBear`, `httpfuzz`

#### ğŸ“Œ Fuzzing Advanced

âœ”ï¸ `httpfuzz` (Burp Intruderì—ì„œ ì˜ê° ë°›ì€ ìœ ì‚¬ ê¸°ëŠ¥ ì œê³µ. Goë¡œ ì‘ì„±ëœ ê°„ë‹¨í•œ ì˜¤í”ˆ ì†ŒìŠ¤ CLI) ì‚¬ìš©

âœ”ï¸ ì‚¬ìš©: ìš”ì²­(í¼ì§€ ë°ì´í„°ì— ëŒ€í•œ ìë¦¬ í‘œì‹œìë¥¼ ì •ì˜), ë‹¨ì–´ ëª©ë¡(í¼ì§€ í…œí”Œë¦¿)ì— ëŒ€í•œ í…œí”Œë¦¿ì„ ì œê³µí•œ í›„ `httpfuzz` ìš”ì²­ ë Œë”ë§í•´ ì„œë²„ë¡œ ì „ì†¡

1. ìš”ì²­ì— ëŒ€í•œ í…œí”Œë¦¿ ì •ì˜

- JSON ë³¸ë¬¸ì´ ìˆëŠ” ê²½ë¡œì— ëŒ€í•œ HTTP POST ìš”ì²­

- "`" ê¸°í˜¸ëŠ” ìš°ë¦¬ê°€ ì œê³µí•˜ëŠ” ë°ì´í„°ë¡œ ëŒ€ì²´ë  ìë¦¬ í‘œì‹œì ì •ì˜

- httpfuzz í—¤ë”, ê²½ë¡œ ë° URL ë§¤ê°œë³€ìˆ˜ í¼ì§• ê°€ëŠ¥

`request.txt` ì´ë¦„ì˜ íŒŒì¼ ìƒì„±

```
POST / HTTP/1.1
Content-Type: application/json
User-Agent: PostmanRuntime/7.26.3
Accept: */*
Cache-Control: no-cache
Host: localhost:8000
Accept-Encoding: gzip, deflate
Connection: close
Content-Length: 35

{
    "name": "`S9`",
}
```

2. ìš”ì²­ì— í¬í•¨ë  ì…ë ¥ ë‹¨ì–´ ëª©ë¡ ì œê³µ

`data.txt` ì´ë¦„ì˜ íŒŒì¼ ìƒì„±

```
SOME_NAME
Mozilla/5.0 (Linux; Android 7.0; SM-G930VC Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/58.0.3029.83 Mobile Safari/537.36
```

3. ë„êµ¬ ì‹¤í–‰

- ë°”ì´ë„ˆë¦¬ë¡œ ë°°í¬ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì†ŒìŠ¤ì—ì„œ ë¹Œë“œ

- ì €ì¥ì†Œ ë³µì œ í›„ `go build -o httpfuzz cmd/httpfuzz.go`

![Alt text](image-3.png)

- ë°”ì´ë„ˆë¦¬ê°€ ì¡´ì¬í•˜ë¯€ë¡œ ì‹¤í–‰

: `--target-header User-Agent`ì—ì„œ httpfuzz í—¤ë” ëŒ€ì‹  ì œê³µëœ ì…ë ¥ì¸ User-Agent ì‚¬ìš©í•˜ë„ë¡

: `--target-param fuzz`ì—ì„œ httpfuzz ì œê³µëœ ì…ë ¥ì„ URL ë§¤ê°œë³€ìˆ˜ fuzz ê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ë„ë¡

: ì¦‰, 2ê°œì˜ ì…ë ¥(SOME_NAME, Mozilla...)ì´ 3ê°œì˜ ìœ„ì¹˜(ë³¸ë¬¸ Name, í—¤ë” User-Agent, fuzz ë§¤ê°œë³€ìˆ˜)ì— ê°ê° ë°°ì¹˜ë˜ì–´ ì´ httpfuzz 6ê°œì˜ ìš”ì²­ì„ ìƒì„±í•´ ì„œë²„ë¡œ ì „ì†¡

```
./httpfuzz \
   --wordlist data.txt \
   --seed-request request.txt \
   --target-header User-Agent \
   --target-param fuzz \
   --delay-ms 50 \
   --skip-cert-verify \
   --proxy-url http://localhost:8080 \
```

4. ì‹¤í–‰ í›„ ì„œë²„ì— ë¬´ì—‡ì´ ë“¤ì–´ì˜¤ëŠ”ì§€ ë³¼ ìˆ˜ ìˆë„ë¡ ê¸°ë¡í•˜ëŠ” ì›¹ ì„œë²„ ì‘ì„±

```
$ ./httpfuzz \
   --wordlist data.txt \
   --seed-request request.txt \
   --target-header User-Agent \
   --target-param fuzz \
   --delay-ms 50 \
   --skip-cert-verify \
   --proxy-url http://localhost:8080 \

httpfuzz: httpfuzz.go:164: Sending 6 requests
```

5. ì„œë²„ ë¡œê·¸ í™•ì¸

- 6ê°œì˜ HTTP ìš”ì²­ ìˆ˜ì‹  í™•ì¸ ê°€ëŠ¥

```
-----
Got request to http://localhost:8000/
User-Agent header = [SOME_NAME]
Name = S9
-----
Got request to http://localhost:8000/?fuzz=SOME_NAME
User-Agent header = [PostmanRuntime/7.26.3]
Name = S9
-----
Got request to http://localhost:8000/
User-Agent header = [PostmanRuntime/7.26.3]
Name = SOME_NAME
-----
Got request to http://localhost:8000/
User-Agent header = [Mozilla/5.0 (Linux; Android 7.0; SM-G930VC Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/58.0.3029.83 Mobile Safari/537.36]
Name = S9
-----
Got request to http://localhost:8000/?fuzz=Mozilla%2F5.0+%28Linux%3B+Android+7.0%3B+SM-G930VC+Build%2FNRD90M%3B+wv%29+AppleWebKit%2F537.36+%28KHTML%2C+like+Gecko%29+Version%2F4.083+Mobile+Safari%2F537.36
User-Agent header = [PostmanRuntime/7.26.3]
Name = S9
-----
Got request to http://localhost:8000/
User-Agent header = [PostmanRuntime/7.26.3]
Name = Mozilla/5.0 (Linux; Android 7.0; SM-G930VC Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/58.0.3029.83 Mobile Safari/537.36
```

6. ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„

- ê° HTTP ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µì´ ë„ì°©í•˜ë©´ ê·¸ ì‘ë‹µì˜ status codeë¥¼ ë¡œê¹…í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸ ì‘ì„±

```
// Listener must be implemented by a plugin to users to hook the request - response transaction.
// The Listen method will be run in its own goroutine, so plugins cannot block the rest of the program, however panics can take down the entire process.
type Listener interface {
    Listen(results <-chan *Result)
}
```

```
package main

import (
    "bytes"
    "io/ioutil"
    "log"

    "github.com/joncooperworks/httpfuzz"
)

type logResponseCodePlugin struct {
    logger *log.Logger
}

func (b *logResponseCodePlugin) Listen(results <-chan *httpfuzz.Result) {
    for result := range results {
        b.logger.Printf("Got %d response from the server\n", result.Response.StatusCode)
    }
}

// New returns a logResponseCodePlugin plugin that simple logs the response code of the response.
func New(logger *log.Logger) (httpfuzz.Listener, error) {
    return &logResponseCodePlugin{logger: logger}, nil
}
```

7. í”ŒëŸ¬ê·¸ì¸ ë¹Œë“œ

`go build -buildmode=plugin -o log exampleplugins/log/log.go`

8. í”Œë˜ê·¸ë¥¼ í†µí•´ ì—°ê²°

```
$ ./httpfuzz \
   --wordlist data.txt \
   --seed-request request.txt \
   --target-header User-Agent \
   --target-param fuzz \
   --delay-ms 50 \
   --skip-cert-verify \
   --proxy-url http://localhost:8080 \
   --post-request log

httpfuzz: httpfuzz.go:164: Sending 6 requests
httpfuzz: log.go:15: Got 200 response from the server
httpfuzz: log.go:15: Got 200 response from the server
httpfuzz: log.go:15: Got 200 response from the server
httpfuzz: log.go:15: Got 200 response from the server
httpfuzz: log.go:15: Got 200 response from the server
httpfuzz: log.go:15: Got 200 response from the server
```

## ì‹¤ìŠµ ì˜¤ë¥˜

Q. í”„ë¡ì‹œì„œë²„ ì˜¤ë¥˜ ë°œìƒí•˜ëŠ”ë° í•´ê²°ë²• ì•„ì‹œëŠ”ë¶„ ê³„ì‹ ê°€ìœ  ã… ã… 

![Alt text](image-7.png)

## TMI

ë„ì»¤ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë³´ì•ˆ ì·¨ì•½ì  ìŠ¤ìº”
<https://guide.ncloud-docs.com/docs/container-ncr-1-5>
