# Overview: Course 
본 과정은 DevOps의 문화, 관련된 tool, 프로세스에 대해 주요 키워드를 따라 학습하는 과정이다.  
90일간 주어진 자료를 가지고 학습하고, 추가적으로 궁금한 내용을 들춰보며 추가한다.  
원본은 90일의 과정이지만, 여기서는 스터디 일정에 맞춰 한 주에 2주차 분량을 학습하고 정리한다.  

DevOps는 SW 개발을 좀 더 현명하게 하고자 하는 방법론에서 출발한다.  
SW 개발과 운영의 통합, 초기 아이디어 단계부터 최종 사용자, 내부 팀 도는 고객 등 모든 사용자에게 실제 운영 서비스로 전달되기까지의 시간을 단축하는 일.  

DevOps를 항상 함께 따라다니는 키워드로 CI/CD, 애자일 방법론 등이 있다.  
DevOps적 mindset의 기본은 긴 SW 배포 프로세스 주기를 더 작게, 자주 배포하는 방식으로 시간을 단축하는 것에 있다.  
또한, 개발, 운영, QA 팀 간 사일로를 무너뜨릴 책임도 DevOps에 있다.  
DevOps의 관점에서 개발, 테스트, 배포는 모두 DevOps 팀과 함께 이루어져야 한다. 그리고 이를 위한 과정에서 __자동화__ 를 최대한 활용한다.  

>사일로 현상 (silo effect)  <-> 부서 이기주의 현상
>회사 내 팀이나 부서가 분리되어 커뮤니케이션, 협업, 혁신을 방해하는 부정적인 현상  
>팀 간 조정과 협력이 부족해져 궁극적으로 회사의 전반적인 성과와 성장에 해를 끼친다.  
>이를 해결하기 위해 협업과 소통의 문화를 조성하고, 프로젝트 관리 도구나 커뮤니케이션 플랫폼을 통해 팀 간 실시간 정보 공유 라인을 구축하는 등 많은 기업들이 사일로 현상을 경계해야할 대상으로 규정하고 있다.  

[So you want to learn DevOps?](https://www.kasten.io/kubernetes/resources/blog/devops-learning-curve)  
[roadmap.sh - DevOps](https://roadmap.sh/devops)  


[DevOps in 5 Minutes](https://www.youtube.com/watch?v=Xrgk023l4lI)  
two type: developer, development team vs operatoin team  
development team: 계획, 디자인, 초기설계  
operation team: 테스트, 구현  

oper -> dev로 feedback (bugs, needed fixing,, )  
dev팀은 feedback을 받기전까지 idle 상태로 기다림  
=> dev팀은 다른 프로젝트에 돌입, oper팀은 남은 프로젝트를 제공 

DevOps는 이러한 운영팀과 개발팀의 분리로 인한 문제를 해결하고 
빠른 개발, 지속적인 프로세스, 효율성 향상 등을 가져온다.  
즉, DevOps는 운영팀과 개발팀 사이에서 소통을 위한 stream line이 된다.  

DevOps를 도입한 개발 사이클은 다음과 같다.  
![Alt text](./chulhee/devops_cycle_and_tools.png)    
출처: https://www.youtube.com/watch?v=Xrgk023l4lI  

<br>

[What is DevOps? Easy way](https://www.youtube.com/watch?v=_Gpe1Zn-1fE&t=43s)  
Development + Operations = DevOps
DevOps는 특정 기술이나 도구가 아닌 개발 방법론, 모토에 가깝다.

개발팀은 코드작성, 새로운 기능 디자인, 테스트 기능 등등..  
운영팀은 서버 매니지(+scailling issue), 대역폭, 보안, 백업..  

DevOps의 모든 팀원은 운영과 개발에 관한 내용을 공유하고 완수할 책임을 갖는다.  

provision prepare infra, maintain, os, linux basic, virutalization, networking, 온프레미스, 클라우드 환경, containers, k8s, aws specific service.., CI/CD pipeline, 

개발과 배포 
그 과정에서 테스트, 빌드, 배포.. 등 자동화 -> CI/CD 
사람은 반드시 실수한다. -> 자동화.
잰킨스, 깃랩, 깃허브액션.

모니터링, Oveserbability

이 모든 전반에 걸친 automating 
IaC.. Provisioning infra as code 
문서화, 인프라 상태에 대한 투명, 협력 강화
IaC: Terraform, Config. Managing: Ansible

<br>

# Contents

* [1. What is and why do we use DevOps](#what-is-and-why-do-we-use-devops)
    * [Day.2 DevOps](#day2)
    * [Day.3 DevOps LifeCycle](#day3)
    * [Day.4 DevOps & Agile](#day4)
    * [Day.5 LifeCycle & CI/CD](#day5)
    * [Day.6 Summary](#day6)
* [2. Understand Networking](#understand-networking)
    * [Day.21 ](#day21)
    * [Day.22 ](#day22)
    * [Day.23 ](#day23)
    * [Day.24 ](#day24)
    * [Day.25 ](#day25)
    * [Day.26 ](#day26)

# What is and why do we use DevOps

## Day.2
소프트웨어 개발팀에는 두 가지 주요 파트가 있다.  
개발: 애플리케이션을 작성, 테스트  
운영: 애플리케이션을 서버에 배포, 유지보수

### 데브옵스는 개발파트와 운영파트를 연결한다.  
개발자는 프로그래밍 언어, 빌드도구, 코드 저장소 등을 이용해 애플리케이션을 만듬.  
DevOps 엔지니어는 직접 애플리케이션을 프로그래밍하지는 않지만, 전반적인 프로세스(개발업무, 시스템, 도구)를 잘 이해할 필요가 있다. 

App.은 결국 서버에 배포해야함.  
서버는 온프레미스, 퍼블릭 클라우드, 서버리스 등의 방법으로 배포.
서버를 생성하고 설정, App. 실행 환경을 준비하는 사람이 필요. -> DevOps 엔지니어의 책임  

서버는 일반적으로 Linux를 의미  
우리의 App.이 다른 서비스들과 통신할 수 있도록 하기 위해 일정 수준의 네트워킹 및 구성에 대한 지식도 필요  
DNS, DHCP, Load Balancing... 등

### eveything. but not all.
네트워크/인프라에 대한 이해가 필요하다고 해도, 그 분야의 전문가가 될 필요는 없다.  
우리에게 필요한건   
1. 서버를 올리고
2. 실행시키고  
3. 상호 간 통신이 가능하도록 구성  
위와 같은 지식만을 가지고 있으면 된다.  

마찬가지로 개발에 대해서도 기본적인 지식만을 필요로한다.  
최근에는 많은 부분을 컨테이너로 동작시키기 때믄에, 가상화, IaaS와 더불어 컨테이너화에 대한 이해가 중요하다.  

### High-Level Overview
DevOps의 핵심업무는 버그 수정 및 새 기능이 추가된 버전을 운영환경에 적용,  
즉, '새 애플리케이션 버전을 어떻게 출시하는가'에 있다.  
이를 위해 테스트를 포함한 자동화된 방식을 적용.  

<br>

## Day.3
### DevOps LifeCycle - Application Focused
애플리케이션 처음부터 끝까지. 고차원의 시각으로 바라본다.  

#### Development
고객 또는 최종 사용자의 요구사항을 도출하고 애플리케이션에 대한 계획이나 요구사항을 마련한다.  
요구사항을 바탕으로 새로운 애플리케이션을 만든다.  

__Need__
* IDE, 프로그래밍 언어 선택
* 버전관리, Git
* 코드 저장소, GitHub/GitLab

#### Testing
이미 요구사항 존재, 애플리케이션 개발 중  
이 단게에서 QA는 버그를 테스트, 테스트 환경 시뮬레이션에는 컨테이너를 자주 사용. -> 물리적/클라우드 인프라의 비용 오버헤드 개선  
지속적 통합의 일부로 자동화 고려.  

__Need__
* CI에 Testing 자동화

#### Integration
__통합은 DevOps 생명주기에 중앙에 있다__  
매일 or 매주 단위로 개발자가 소스코드에 변경사항을 더 자주 커밋해야하는 practice(관행)  

매 커밋마다 애플리케이션은 자동화된 테스트 단계를 거치며, 다음 단계로 가기 전 문제나 버그를 조기 발견할 수 있음.   

__Need__
* Commit 사이클 관리

#### Deployment
코드를 프로덕션 서버에 배포하는 단계, DevOps의 정수,,,  
각 애플리케이션마다 필요한 하드웨어나 구성이 다름.  
Application Configuration Management와 Infrastructure as Code가 주요 Topic으로 나오는 부분이다.  
애플리케이션이 컨테이너화 된 상태로 가상 머신의 위에서 실행될 수 있으며, 이러한 컨테이너들을 오케스트레이션하기 위해 k8s와 같은 플랫폼을 사용한다.  

__Need__
* Ansible, Terraform
* Docker, k8s 
* CI/CD tools, (like Jenkins, GitHub action..)

#### Monitoring
배포하고있는 애플리케이션의 성능을 지속적으로 모니터링   
-> 개발자가 향후 릴리스에서 개선할 부분을 찾을 수 있음/더 나은 서비스 제공  

애플리케이션이 필요할 때 항상 사용할 수 있길(안정성, reliability)  
-> 지속적 모니터링 observability, security and data management 영역으로 이어짐  
피드백을 통한 애플리케이션의 지속적 개선, 업데이트 및 릴리스

DevOps 엔지니어라는 말은 실제로 Cloud Native Engineer/Architect, Virtualization Admin., Clout Architect/Engineer, Infra Admin. 등과 같은 직책을 포함해서  
DevOps에서 사용되는 프로세스의 범위를 강조하기 위해 사용되는 일반적인 단어이다.  
DevOps는 단지 '누군가의 직책'이 아니라 누구나 따라야 할 프로세스와 문화 그 자체를 의미한다.  

<br>

## Day.4

### DevOps & Agile

#### Agile Development  
큰 완제품을 한 번에 출시하기보다 작은 결과물로 더 빠르게, 자주 제공하는데 중점을 두는 개발 방법론.  
반복적인 개발, 매주 또는 매달 점진적인 업데이트를 통한 새 릴리스 출시.  
궁긍적으로 최종 사용자에게 최고의 경험을 제공  

#### DevOps  
일반적으로 SW개발자와 운영 전문가 간 협력을 기반으로 하는 배포 관행.  
간소화된 개발 프로세스 제공. 팀 간 커뮤니케이션을 통한 효율적인 개발/운영 사이클


### What is different, Agile vs DevOps
Agile은 짧은 반복 주기 요구 -> DevOps가 제공하는 자동화를 통해 달성  
Agile 고객의 신속한 피드백 -> DevOps가 새로운 환경을 쉽게 만들 수 있을때만 가능  

__Participants__  
Agile은 최종 사용자와 개발자 간 커뮤니케이션 중점(외부 지향적)  
DevOps는 개발자와 운영, 팀원을 대상으로 함(내부 관행)  

__Team__  
Agile은 SW개발자와 PM에게 적용. DevOps 엔지니어는 제품 주기의 모든 단계에 관여하고 Agile 팀의 일원으로 개발/QA/운영이 교차하는 지점에 존재한다.  

__Framework__  
유연성과 투명성을 달성하기 위해 Agile에는 Scrum > Kanban > Lean > Extreme > Crystal > Dynamic > Feature-Driven 과 같은 관리 프레임워크 존재  
DevOps는 협업을 통한 개발 방식에 중점을 두지만 구체적인 방법론 제공 X  
대신 IaC, 모니터링, Self-healing, end-to-end 테스트 자동화와 같은 관행 장려.  

__Feedback__  
피드백의 출처가 다름  
Agile: 보통 최종 사용자 / DevOps: 이해관계자와 팀 자체 피드백  

__Boundary__  
Agile: 소프트웨어 개발에 중점  
DevOps: 소프트웨어 개발, 모니터링, 고가용성, 보안 및 데이터 보호.. 개발 ~ 릴리스 후 단계까지 적용  

__Docs__  
Agile: 문서화, 모니터링 < 유연성, 당면한 작업
DevOps: 프로젝트 문서를 필수 프로젝트 구성 요소로 생각

__Risk__  
Agile의 경우 우선순위와 요구사항에 대한 예측/평가가 어려움  
DevOps의 경우 용어에 대한 오해와 적절한 도구의 부재에서 비롯. 

__Tools__  
Agile 도구는 경영진의 커뮤니케이션 협업, 메트릭 및 피드백 처리에 중점을 둔다.  
인기있는 도구로는 JIRA, Trello, Slack, Zoom, SurveyMonkey  
DevOps는 팀 커뮤니케이션, SW개발, 배포 및 통합을 위해 Jenkins/GitHub Actions/BitBucket 등 도구를 사용  

<br>

### Agile과 DevOps를 모아보자  
__Benefit__
* 유연한 프로젝트 관리와 강력한 도구, 제품 품질의 향상
* 팀의 협업 개선, 팀의 사기를 높이고 직원 이직률을 낮춤
* 애자일 방법론은 DevOps팀이 우선순위를 보다 효율적으로 소통하도록 만듬
* DevOps, 자동화를 위한 비용은 Agile의 요구사항(신속, 자주 배포)에 따라 정당화됨  

__Agile과 DevOps를 동시에 도입하기__
1. 개발팀과 운영팀을 통합하라
2. 빌드 및 운영 팀을 만들고 모든 개발/운영 관련 문제를 전체 DevOps 팀에서 공유/논의
3. 스프린트에 대한 접근 방식 변경, 우선순위를 두고 개발과 동일한 가치의 DevOps 작업을 제공하라. 개발팀과 운영팀 간의 workflow와 대립되는 문제에 대한 의견 교환을 장려하라.
4. 모든 개발 단계에 QA를 포함한다.
5. 올바른 도구를 사용한다.
6. 가능한 모든 것을 자동화한다.
7. 가시적인 수치를 따라 측정/제어하라.

<br>

## Day.5

### Plan > Code > Build > Test > Release > Deploy > Operate > Monitoring  
![Alt text](./chulhee/devops_logo.png)  

* Plan: 팀이 더 좋은 방향으로 갈 수 있도록, 업무 파악, 협력, 인프라 지원 등
* Code: 인프라에 대한 이해, 사용가능한 서비스와 해당 서비스와 상호작용 방법 등에 대한 지원, 코드 병합.
* Buold: 자동화 프로세스의 첫 단계. 코드를 가져와 컴파일, 변환, 도커 이미지 생성 등 CI 파이프라인을 통한 자동화. 
* Test: 제품에 문제가 발생하지 않도록 최소화하기 위한 시도. 최소한 이전에 작동하던 것이 깨지지 않도록 보장해야 함.
* Release: GitHub 리포지토리에서 가져온 코드나 빌드된 도커 이미지를 프로덕션 서버에 배포하기 위해 레지스트리나 리포지토리에 저장. 이를 통해 배포 프로세스 진행  
* Deploy: 개발의 최종단계. 프로덕션 환경에 코드를 적용하는 과정. 
* Operate: 고객의 실 사용시 발생하는 문제 파악, 대처방안 마련. 서버의 auto scale, 운영 상황의 메트릭(서비스의 성능 수치값) 처리 등 일반적으로 자동화 시킴. 자동화 프로세스에는 알림을 추가하는 것이 좋음
* Monitoring: 운영의 auto scale 등을 위해 필요. 메모리 사용률, CPU 사용률, 디스크 공간, API 엔드포인트, 응답시간 등을 측정, 로깅, 모니터링. 

### CI/CD
위와 같은 과정에 많은 도구들을 사용해 지속적인 개선 통합 프로세스가 형성됨.  
이는 모든 코드와 클라우드 인프라 또는 환경을 완전히 자동화하는 것을 궁긍적인 목표로 함.  
위와 같은 전체 flow를 CI/CD, 지속적 통합/지속적 배포로 설명하기도 한다.  

![Alt text](./chulhee/ci_cd.png)  
https://www.redhat.com/ko/topics/devops/what-is-ci-cd  

#### CI, Continuous Integration
Plan > Code > Build > Test
성공/실패 경우 모두 포함. 
변경사항이 적용되면 빌드, 테스트 수행 자동화

#### CD, Continuous Delivery
Release
CI의 빌드 자동화, 유닛 및 통합 테스트 수행 후 유효한 코드를 리포지토리에 자동으로 릴리즈.  
CI가 먼저 구축되어 있어야 하며, 프로덕션 환경으로 배포할 준비가 되어있는 코드베이스를 확보하는 것을 목표로 함  

#### CD, Continuous Deployment
Deploy > Operating > Monitoring  
배포 준비가 완료된 애플리케이션을 프로덕션으로 릴리스하는 작업을 자동화
실 사례에서는 개발자가 변경사항을 작성한 후 몇 분 이내에 클라우드 애플리케이션을 자동으로 실행할 수 있는 것을 의미(자동화된 테스트 통과시)

<br>

## Day.6

### Summary
DevOps는 개발과 운영의 조합이다. 애플리케이션 라이프사이클을 관리하기 위한 방법론이다.  
DevOps의 주요 목표는 개발 라이프사이클 단축 및 비즈니스 목표와 연계하여 기능 및 수정사항을 자주 제공하는 것.  
데브옵스는 SW를 안정적, 신속하게 배포하고 개발할 수 있는 개발 정근 방식  
지속적인 개발, 테스트, 배포, 모니터링으로 보기도 한다.  



<br>


# Understand Networking
[Networking Fundamental Series - Practical Networking](https://www.youtube.com/playlist?list=PLIFyRwBY_4bRLmKfP1KnZA6rZbRHtxmXi)

## Day.21

### What is Network DevOps?
NetDevOps라고도 함, 네트워크에 DevOps 원칙을 적용하고 버전 컨트롤 및 자동화 도구를 네트워크 생성/테스트/모니터링/배포에 적용  

프로비저닝/구성/테스트/버전제어 및 배포와 관련된 자동화 원칙으로부터 시작  
자동화를 통한 이점  
* 배포 속도 향상
* 네트워크 인프라 안정성 확보
* 지속적인 개선 및 여러 환경에서 프로세스 공유(코드의 재사용)

### Network Basics

#### 네트워크 장치  
호스트: 트래픽을 보내거나 받는 모든 장치  

IP 주소: 각 호스트의 신원을 나타냄  

네트워크: 호스트 간 트래픽을 전송하는 역할, 비슷한 연결이 필요한 호스트의 논리적 그룹  
* 네트워크 호스트는동일한 IP주소 공간을 공유

스위치: 네트워크 내에서 호스트 간 데이터 패킷을 전달하는 장치.

라우터: 네트워크와 네트워크를 연결, 서로에 대한 액세스 권한 부여. 등
* 트래픽 제어지점(보안, 필터링, 리다이렉션)을 제공할 수 있음  
* 자신이 연결된 네트워크를 학습, 라우팅 테이블에 저장
* 연결된 네트워크에 IP 주소를 알고 있음. 
* IP주소는 각 호스트가 로컬 네트워크에서 나가는 통로(게이트웨이)로 사용됨

#### 스위치 vs 라우터
라우팅: 네트워크 간 데이터를 이동하는 프로세스  
스위칭: 네트워크 내에서 데이터를 이동하는 프로세스  

#### Learn More 
라우팅/스위칭을 수행하는 장치
* 액세스 포인트
* 방화벽
* 로드 밸런서
* 레이어 3 스위치
* IDS/IPS
* 프록시
* 가상 스위치
* 가상 라우터 

#### Next
* OSI Model
* Protocol
* DNS
* NAT
* DHCP
* Subnet


## Day.22

### OSI 7 layers
네트워킹의 목적: 두 호스트가 데이터를 공유  
네트워킹을 통해 호스트가 유선으로 데이터를 자동으로 공유할 수 있고, 이 작업을 자동화할 수 있음  
but 이게 가능하려면 호스트가 일련의 규칙을 따라야 함.  

![Alt text](./chulhee/osi_7_layers.png)

1. Physical   
물리적 전송매체의 특성을 정의

2. Data Link  
물리계층에서 발생하는 물리적 전송오류를 제어

3. Network  
IP프로토콜 사용. 라우팅을 위한 정보 제공

4. Transport  
프로세스와 프로세스간 통신의 엔드포인트. 포트번호를 통한 프로세스 식별
프로세스: 최종 호스트

5. Session  
애플리케이션 레벨에서의 통신을 의미

6. Presentation  
데이터의 표현, 암호화 등을 정의

7. Application  
사용자 애플리케이션.
